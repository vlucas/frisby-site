<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="author" content="Vance Lucas"><meta name="description"><title>REST API Testing&mdash;Frisby.js</title><link href="/favicon.png" rel="icon"><link rel="alternate" href="/atom.xml" title="config.title" type="application/atom.xml"><link rel="stylesheet" href="/stylesheets/app.css"></head><body><div class="container"><div id="page_head"><a href="/"><img src="/images/logo-frisby.png"></a></div><div class="row"><nav id="topnav" role="navigation" class="navbar navbar-default"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/docs/api">Documentation</a></li></ul></nav></div><section id="page_content"><article><h2>REST API Testing</h2><p>Frisby is a REST API testing framework built on node.js and Jasmine that makes<br>testing API endpoints easy, fast, and fun. Read below for a quick overview, or<br>check out the API documentation.</p>
<h3 id="Install_Frisby">Install Frisby</h3>
<p>Frisby requires both node.js and NPM to be installed on your system, and is installable as an NPM package.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="operator"><span class="keyword">install</span> -g frisby</span></div></pre></td></tr></table></figure>

<h3 id="Write_Tests">Write Tests</h3>
<p>Frisby tests start with frisby.create with a description of the test followed by one of get, post, put, delete, or head, and ending with toss to generate the resulting jasmine spec test. Frisby has many built-in test helpers like expectStatus to easily test HTTP status codes, expectJSON to test expected JSON keys/values, and expectJSONTypes to test JSON value types, among many others.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> frisby = <span class="built_in">require</span>(<span class="string">'frisby'</span>);</div><div class="line"></div><div class="line">frisby.create(<span class="string">'Get Brightbit Twitter feed'</span>)</div><div class="line">  .get(<span class="string">'https://api.twitter.com/1/statuses/user_timeline.json?screen_name=brightbit'</span>)</div><div class="line">  .expectStatus(<span class="number">200</span>)</div><div class="line">  .expectHeaderContains(<span class="string">'content-type'</span>, <span class="string">'application/json'</span>)</div><div class="line">  .expectJSON(<span class="string">'0'</span>, {</div><div class="line">    place: <span class="function"><span class="keyword">function</span><span class="params">(val)</span> </span>{ expect(val).toMatchOrBeNull(<span class="string">"Oklahoma City, OK"</span>); }, <span class="comment">// Custom matcher callback</span></div><div class="line">    user: {</div><div class="line">      verified: <span class="literal">false</span>,</div><div class="line">      location: <span class="string">"Oklahoma City, OK"</span>,</div><div class="line">      url: <span class="string">"http://brightb.it"</span></div><div class="line">    }</div><div class="line">  })</div><div class="line">  .expectJSONTypes(<span class="string">'0'</span>, {</div><div class="line">    id_str: <span class="built_in">String</span>,</div><div class="line">    retweeted: <span class="built_in">Boolean</span>,</div><div class="line">    in_reply_to_screen_name: <span class="function"><span class="keyword">function</span><span class="params">(val)</span> </span>{ expect(val).toBeTypeOrNull(<span class="built_in">String</span>); }, <span class="comment">// Custom matcher callback</span></div><div class="line">    user: {</div><div class="line">      verified: <span class="built_in">Boolean</span>,</div><div class="line">      location: <span class="built_in">String</span>,</div><div class="line">      url: <span class="built_in">String</span></div><div class="line">    }</div><div class="line">  })</div><div class="line">.toss();</div></pre></td></tr></table></figure>

<p>Any of the Jasmine matchers can be used inside anonymous functions instead of<br>key values, and inside the after and afterJSON callbacks to perform additional<br>or custom tests on the response data.</p>
<p><a href="/docs/api"><strong>Full API Documentation ►</strong></a></p>
<h3 id="Run_Tests">Run Tests</h3>
<p>Frisby is built on top of the Jasmine BDD framework, and uses the jasmine-node<br>test runner to run spec tests.</p>
<h4 id="Install_jasmine-node">Install jasmine-node</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="operator"><span class="keyword">install</span> -g jasmine-node</span></div></pre></td></tr></table></figure>

<h4 id="File_naming_conventions">File naming conventions</h4>
<p>Files must end with spec.js to run with jasmine-node.</p>
<p>Suggested file naming is to append the filename with _spec, <code>like
mytests_spec.js</code> and <code>moretests_spec.js</code></p>
<h4 id="Run_it_from_the_CLI">Run it from the CLI</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> your/project</div><div class="line">jasmine-node spec/api/</div></pre></td></tr></table></figure>

<h4 id="Continuous_Integration">Continuous Integration</h4>
<p>The jasmine-node test runner has an option that generates test run reports in JUnit XML format. This format is compaitlble with most CI servers, including Hudson, Jenkins, Bamboo, Pulse, and others.</p>
<p>All you need to do is run the tests with the —junitreport flag in your CI server:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">jasmine</span><span class="literal">-</span><span class="comment">node</span> <span class="comment">spec/api/</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">junitreport</span></div></pre></td></tr></table></figure>

</article></section><footer id="page_foot"><div id="region_foot"><p class="pull-right">Website built with&nbsp;<a href="http://hexo.io/">hexo</a></p><p>Using Frisby.js in an awesome project? <a href="http://twitter.com/vlucas">Let me know</a>!</p>
<p>Frisby.js &copy; 2012-2014 <a href="http://www.vancelucas.com">Vance Lucas</a>. All rights reserved. Open source under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD license</a>.</p>
<!-- GA Tracker Code --><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-359731-28']);
_gaq.push(['_setDomainName', 'frisbyjs.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></div></footer></div></body></html>